RISCV = ../../submodules/iob-rv32
RTLDIR = ../../rtl/

INCLUDE_DIR=.$(RTLDIR)/include
SRC_DIR = $(RTLDIR)/src
IP_DIR = $(RTLDIR)/ip

TESTBENCH = $(RTLDIR)/testbench/top_system_test_Icarus_diff_clk.v

VSRC := $(SRC_DIR)/*.v $(SRC_DIR)/fifo/afifo.v $(SRC_DIR)/iob-uart/picosoc_uart.v $(SRC_DIR)/memory/*.v

sim_system: firmware.hex boot.hex $(VSRC)
	$(VLOG) -I.$(RTLDIR)  -o top_system_test_Icarus_tb $(VSRC)
	./top_system_test_Icarus_tb +vcd
